@model PatientModel
@{
    Layout = "_formpages";
}
<!doctype html>
<html lang="en" style="width:100%;">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"
            integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous">
    </script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
    <style>
        .patient-upload {
            border-radius: 5px;
            border: 1px solid #d1d1d1;
            display: flex;
        }

        .file-upload {
            /* display: block; */
            margin: 0 auto;
            /* / color: #fff; / */
        }

        #fileLoader {
            position: absolute;
            left: -9999px;
        }

        label[for="fileLoader"] {
            padding: 0.5em;
            background: #01bce9;
            cursor: pointer;
            /* / float:left; / */
            color: #ffffff;
            float: right;
        }

        #filename {
            padding: 0.5em;
            /* / width:93%; / */
            /* / white-space: nowrap; / */
            /* / overflow:hidden; / */
            /* / background:#739BAE; / */
            float: left;
            /* / flex-grow: 1; / */
        }

        .t:focus {
            box-shadow: none;
            border: 2px solid #10bce9;
        }

        .t:focus-within + label {
            color: #10bce9 !important;
        }

        .iti {
            position: relative;
            height: 100%;
            width: 100%;
            display: inline-block;
        }

        .iti--allow-dropdown input, .iti--allow-dropdown input[type=text], .iti--allow-dropdown input[type=tel], .iti--separate-dial-code input, .iti--separate-dial-code input[type=text], .iti--separate-dial-code input[type=tel] {
            padding-right: 6px;
            padding-left: 52px;
            margin-left: 0;
            height: 59px;
        }

        .iti__country-list {
            z-index: 5;
        }

        .backbtn:hover {
            color: white;
        }
    </style>
</head>

<body style="width:100%;" class="">
    <!--<nav class="navbar navigationbar navbar-light bg-light shadow bg-white rounded w-100">
        <div class="w-100 align-items-center" style="display:contents;">
            <div class="">
                <a href="#" class="navbar-brand">
                    <img src="/SRS Screen Shorts/HalloDoc LOGO.png" alt="" height="80vh">
                </a>
            </div>
            <div class="justify-content-end float-end me-3">
                <button class="btn" onclick="darkMode()">
                    <svg xmlns="" width="16" height="16" fill="#10bce9"
                         class="bi bi-moon-fill" viewBox="0 0 16 16">
                        <path d="M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277q.792-.001 1.533-.16a.79.79 0 0 1 .81.316.73.73 0 0 1-.031.893A8.35 8.35 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.75.75 0 0 1 6 .278" />
                    </svg>
                </button>
            </div>
        </div>
    </nav>-->
    <br>

    <div class="row justify-content-end">
        <div class="col-2">
            <button class="btn btn-outline-info backbtn" onclick="window.history.back(-1)" style="width:auto">
                <div>
                    <img src="/SRS Screen Shorts/go-back-2.svg" alt="" width="25px">Back
                </div>
            </button>
        </div>
    </div>
    <br>
    <div class="row mb-4 d-flex justify-content-center shadow-lg">
        <div class="col-11 col-md-10 col-lg-9 " style="box-shadow:0px 0px 20px white">
            <form  method="post">
                <div class="row ">
                    <h5 for="" class="mt-4">Patient Information</h5>
                </div>
                <div class="row mt-4">
                    <div class="col form-floating ">
                        <textarea asp-for="Symptoms" class="t form-control" id="forfloatingtextarea"
                                  placeholder="Enter Brief Details Of Symptoms(Optional)" style="height: 15vh;" cols="20"
                                  rows="5"></textarea>
                        <label for="forfloatingtextarea" class="ms-2">Enter Brief Details Of Symptoms(Optional)</label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-11 mt-4 col-sm-6 form-floating ">
                        <input type="text" asp-for="FirstName" placeholder="First Name" class="t  form-control" id="fname">
                        <label for="fname" class="ms-2">First Name</label>
                    </div>
                    <div class="col-11 col-sm-6 mt-4 form-floating  ">
                        <input type="text" asp-for="LastName" placeholder="Last Name" class="t form-control" id="lname">
                        <label for="lname" class="ms-2">Last Name</label>
                    </div>
                </div>
                <div class="row ">
                    <div class="col-11 col-sm-6  mt-4 form-floating">
                        <input type="date" asp-for="DateOfBirth" placeholder="Date Of Birth" class="t form-control" id="DOB">
                        <label for="DOB" class="ms-2">Date Of Birth</label>
                    </div>
                </div>
                <div class="row mt-4">
                    <h5 for="">Patient Contact Information</h5>
                </div>
                <div class="row ">
                    <div class="col-11 col-sm-6 mt-4">
                        <div class="form-floating">
                            <input type="email" asp-for="Email" placeholder="Email" class=" t form-control" id="emailfloat">
                            <label for="emailfloat">Email</label>
                        </div>
                    </div>
                    <div class="col-11 col-sm-6 mt-4 ">


                        <div class="form-floating ">
                            <input id="patient-phone" asp-for="PhoneNo" class="form-control" type="tel" name="phone1" />
                        </div>

                    </div>
                </div>
                <div class="row " id="hiddendiv" style="display:none">
                    <br />
                    <hr />
                    <div class="col-11 col-sm-6 mt-4">
                        <div class="form-floating">
                            <input type="password" asp-for="Password" placeholder="Email" class=" t form-control" id="passwordfloat">
                            <label for="passwordfloat">Enter Password</label>
                        </div>
                    </div>
                    <div class="col-11 col-sm-6 mt-4 ">
                        <div class="form-floating ">
                            <input id="confirmpass" asp-for="ConfirmPass" class="form-control" type="password"/>
                            <label for="confirmpass">Confirm Password</label>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <h5>Patient Location</h5>
                </div>
                <div class="row ">
                    <div class="col-11 col-sm-6 mt-4">
                        <div class="form-floating">
                            <input type="text" asp-for="Street" class="t form-control" id="floatingEmail" placeholder="Street ">
                            <label for="floatingEmail">Street</label>
                        </div>

                    </div>
                    <div class="col-11 col-sm-6 mt-4">
                        <div class="form-floating">
                            <input type="text" asp-for="City" class="t  form-control" id="floatingCity" placeholder="City">
                            <label for="floatingCity">City</label>
                        </div>
                    </div>
                </div>

                <div class="row ">
                    <div class="col-11 col-sm-6 mt-4">
                        <div class="form-floating">
                            <input type="text" asp-for="State" class="t  form-control" id="floatingState" placeholder="state">
                            <label for="floatingState">State</label>
                        </div>
                    </div>
                    <div class="col-11 col-sm-6 mt-4">
                        <div class="form-floating">
                            <input type="number" asp-for="ZipCode" class="t  form-control" id="floatingZip" placeholder="zip">
                            <label for="floatingZip">Zip Code</label>
                        </div>
                    </div>
                </div>
                <div class="row ">
                    <div class="col-11 col-sm-6 mt-4">
                        <div class="form-floating">
                            <input type="text" asp-for="RoomSuite" class="t  form-control" id="floatingRoom" placeholder="Room">
                            <label for="floatingRoom">Room # / Suite (Optional)</label>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <h5>(Optional) Upload Photo or Document</h5>
                </div>
                <div class="row px-3">
                    <!--<div class="col  patient-upload d-flex input-group p-0">
                        <div class="file-upload w-100 flex-grow-1">
                            <span id="filename">Select your file</span>


                            <label for="fileLoader">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#ffffff"
                                     class="bi bi-cloud-upload" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd"
                                          d="M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383" />
                                    <path fill-rule="evenodd"
                                          d="M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708z" />
                                </svg>
                                Upload
                            </label>
                            <input type="file"  asp-for="FilePath" id="fileLoader">
                        </div>
                    </div>-->
                    <div class="mb-3">

                        <input class="form-control" type="file" id="file_input_id" style="opacity:0;height:0;">

                        <div class="input-group mb-3">
                            <input asp-for="FilePath" type="text" id='text_input_id' class="form-control" placeholder="Select File"
                                   style="caret-color: transparent" autocomplete="off">

                            <span class="input-group-text" id="text_input_span_id " style="background-color: #10bce9;">
                                <span class="ms-1 text-white">Upload</span>
                            </span>

                        </div>
                    </div>
                    <div class="row  text-end">
                        <div class="">
                            <button type="submit" class="m-2 btn  btn-info text-light">
                                <span class="p-3">Submit</span>
                            </button>
                            <button type="reset" class="m-2 btn btn-outline-info">
                                <span class="p-3">Cancel</span>
                            </button>
                        </div>
                    </div>
            </form>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
    </script>
    <script>

        var phoneInputField = document.querySelector("#patient-phone");
        var phoneInput = window.intlTelInput(phoneInputField, {
            utilsScript:
                "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
        });
    </script>
    @section Scripts {
        <script src="~/lib/jquery/dist/jquery.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function () {

                $('#emailfloat').on('blur', function () {
                    var email = $(this).val();
                    $.ajax({
                        url: '/Home/CheckEmail',
                        type: 'POST',
                        data: { email: email },
                        success: function (data) {
                            if (!data) {
                                $('#hiddendiv').show();
                                // $('#confirmPasswordDiv').removeAttr('display');
                            }
                            else {
                                $('#hiddendiv').hide();
                                
                            }
                        }
                    });
                });
            });
        </script>
    }

    @* 
        <script>
        $(document).ready(function () {
            $('#emailfloat').on('blur', function () {
                var inputValue = $('#emailfloat').val();

                $.get('/Home/PatientCheckEmail', { email: inputValue }, function (response) {
                    if (!response.isValid) {
                        const pass = document.getElementsByClassName("hidden-pass");
                        for (let i = 0; i < pass.length; ++i) {
                            pass[i].style.display = "block";
                        }
                    }
                    else {
                        const pass = document.getElementsByClassName("hidden-pass");
                        for (let i = 0; i < pass.length; ++i) {
                            pass[i].style.display = "none";
                        }
                    }
                });
            });
        });
    </script> *@


    <script>
        // bind file-input-form click action to text-input-span
        $('#text_input_span_id').click(function () {
            $("#file_input_id").trigger('click');
        })
        // bind file-input-form click action to text-input-form
        $('#text_input_id').click(function () {
            $("#file_input_id").trigger('click');
        })
        // display file name in text-input-form
        $("#file_input_id").change(function () {
            $('#text_input_id').val(this.value.replace(/C:\\fakepath\\/i, ''))
        })
    </script>
</body>
</html>